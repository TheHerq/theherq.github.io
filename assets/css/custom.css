/* ============================================
   Fix dla bloków kodu - formatowanie i clipboard
   ============================================ */

/* Zapewnienie prawidłowego wyświetlania tabeli rouge */
.highlight table.rouge-table {
  display: table !important;
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

.highlight table.rouge-table tbody {
  display: table-row-group !important;
}

.highlight table.rouge-table tr {
  display: table-row !important;
}

.highlight table.rouge-table td {
  display: table-cell !important;
  vertical-align: top;
}

/* Kolumna z numerami linii */
.highlight table.rouge-table td.rouge-gutter {
  width: 3rem;
  min-width: 3rem;
  max-width: 3rem;
  padding-right: 0.75rem !important;
  border-right: 1px solid var(--highlight-lineno-color, #6c757d);
}

.highlight table.rouge-table td.rouge-gutter pre,
.highlight table.rouge-table td.rouge-gutter pre.lineno {
  display: block !important;
  white-space: pre !important;
  text-align: right;
  margin: 0;
  padding: 0;
  line-height: 1.4rem;
  font-size: 0.85rem;
  overflow: visible;
}

/* Kolumna z kodem */
.highlight table.rouge-table td.rouge-code {
  padding-left: 1rem !important;
  width: auto;
}

.highlight table.rouge-table td.rouge-code pre {
  white-space: pre !important;
  overflow-x: auto;
  margin: 0;
  padding: 0;
}

/* Fix dla <code> wewnątrz highlight */
.highlight code {
  display: block;
}

/* Responsywność - ukryj numery linii na małych ekranach */
@media (max-width: 576px) {
  .highlight table.rouge-table td.rouge-gutter {
    display: none !important;
  }

  .highlight table.rouge-table td.rouge-code {
    padding-left: 0.5rem !important;
  }
}
